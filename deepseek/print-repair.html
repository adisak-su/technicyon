<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>พิมพ์ใบซ่อมรถ</title>
    <!-- Bootstrap 4 CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/print.css" media="print">
</head>
<body>
    <div class="container mt-4 mb-4">
        <!-- Print Header -->
        <div class="text-center mb-4 d-print-none">
            <button class="btn btn-primary mr-2" onclick="window.print()">
                <i class="fas fa-print"></i> พิมพ์ใบซ่อม
            </button>
            <!-- onclick="$('#repair-history-tab').tab('show')" -->

            <button class="btn btn-secondary" id="backButton" onclick="$('#repair-history-tab').tab('show')">
                <i class="fas fa-arrow-left"></i> กลับ
            </button>
            <!-- <a href="#" class="btn btn-secondary" id="backButton">
                <i class="fas fa-arrow-left"></i> กลับ
            </a> -->
        </div>

        <!-- Repair Invoice -->
        <div class="card" id="repairInvoice">
            <div class="card-body">
                <!-- Invoice Header -->
                <div class="row mb-4">
                    <div class="col-sm-6">
                        <h3>อู่ซ่อมรถ ดีดี</h3>
                        <p>123 ถนนสุขุมวิท<br>
                           เขตบางนา, กรุงเทพฯ 10110<br>
                           โทร: 02-123-4567</p>
                    </div>
                    <div class="col-sm-6 text-right">
                        <h3>ใบซ่อมรถ</h3>
                        <p><strong>เลขที่:</strong> <span id="invoiceNo"></span><br>
                           <strong>วันที่:</strong> <span id="invoiceDate"></span></p>
                    </div>
                </div>

                <!-- Customer and Car Info -->
                <div class="row mb-4">
                    <div class="col-sm-6">
                        <div class="border p-2">
                            <h5>ข้อมูลลูกค้า</h5>
                            <p><strong>ชื่อ:</strong> <span id="customerName"></span><br>
                               <strong>โทรศัพท์:</strong> <span id="customerPhone"></span></p>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="border p-2">
                            <h5>ข้อมูลรถ</h5>
                            <p><strong>ทะเบียน:</strong> <span id="carLicense"></span><br>
                               <strong>ยี่ห้อ/รุ่น:</strong> <span id="carModel"></span><br>
                               <strong>ปีที่ผลิต:</strong> <span id="carYear"></span></p>
                        </div>
                    </div>
                </div>

                <!-- Repair Details -->
                <div class="mb-4">
                    <h5>รายละเอียดการซ่อม</h5>
                    <p><strong>ช่างซ่อม:</strong> <span id="mechanicName"></span><br>
                       <strong>สถานะ:</strong> <span id="repairStatus"></span><br>
                       <strong>หมายเหตุ:</strong> <span id="repairNotes"></span></p>
                </div>

                <!-- Repair Items Table -->
                <div class="table-responsive mb-4">
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th width="5%">ลำดับ</th>
                                <th width="45%">รายการอะไหล่</th>
                                <th width="15%" class="text-right">จำนวน</th>
                                <th width="15%" class="text-right">ราคาต่อหน่วย</th>
                                <th width="20%" class="text-right">รวม</th>
                            </tr>
                        </thead>
                        <tbody id="invoiceItems">
                            <!-- Items will be loaded here -->
                        </tbody>
                        <tfoot>
                            <tr>
                                <td colspan="4" class="text-right font-weight-bold">ค่าอะไหล่รวม</td>
                                <td class="text-right font-weight-bold" id="invoicePartsTotal"></td>
                            </tr>
                            <tr>
                                <td colspan="4" class="text-right font-weight-bold">ค่าแรง</td>
                                <td class="text-right font-weight-bold" id="invoiceLaborCost"></td>
                            </tr>
                            <tr class="table-active">
                                <td colspan="4" class="text-right font-weight-bold">รวมทั้งสิ้น</td>
                                <td class="text-right font-weight-bold" id="invoiceTotal"></td>
                            </tr>
                        </tfoot>
                    </table>
                </div>

                <!-- Signature Area -->
                <div class="row mt-5">
                    <div class="col-sm-6 text-center">
                        <p>..............................................</p>
                        <p>(ผู้รับงาน)</p>
                        <p><span id="mechanicNameFooter"></span></p>
                    </div>
                    <div class="col-sm-6 text-center">
                        <p>..............................................</p>
                        <p>(ผู้รับรถ)</p>
                    </div>
                </div>

                <!-- Footer -->
                <div class="text-center mt-4">
                    <p>ขอบคุณที่ใช้บริการอู่ซ่อมรถ ดีดี</p>
                    <p>โทรศัพท์: 02-123-4567 | เวลาทำการ: 08:30 - 17:30 น. (หยุดวันอาทิตย์)</p>
                </div>
            </div>
        </div>
    </div>

    <!-- jQuery, Popper.js, Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <!-- Custom JS -->
    <script src="js/print-script.js"></script>
</body>
</html>